<script>
  const draw = () => {}
</script>

<script src="./magic/includes.js"></script>
<script>
  document.getElementsByTagName("canvas")[0].remove()
</script>

<div class="centered">
  <h1>Art Génératif</h1>
  <div class="typewriter">
    <h2></h2>
  </div>

  <img class="fit-image" />
</div>

<script>
  const images = ["img/1.webp", "img/2.jpg", "img/3.png"]
  let subtitle_idx = -1
  const update_subtitle = () => {
    const h2 = document.getElementsByTagName("h2")[0]
    const text = "Quand les lignes prennent vie"
    h2.innerHTML = text.substring(0, subtitle_idx)
    subtitle_idx++
    if (subtitle_idx <= text.length) {
      setTimeout(update_subtitle, Math.random() * 50 + 20)
    }
  }
  let img_idx = 0
  const set_img_src = () => {
    document.getElementsByTagName("img")[0].src = images[img_idx]
  }
  set_img_src()
  document.addEventListener("keydown", (e) => {
    update_subtitle()
    if (e.key === "ArrowDown") {
      img_idx = Math.min(img_idx + 1, images.length - 1)
      set_img_src()
    }
    if (e.key === "ArrowUp") {
      img_idx = Math.max(img_idx - 1, 0)
      set_img_src()
    }
    redraw()
  })
</script>
